#!/usr/bin/env coffee

# cli = require 'cli'

# Server = require './lib/server'

# cli.setUsage 'http-job-queue [OPTIONS]'

# cli.parse
#   config: ['c', 'YAML config file']
#   port:   ['p', 'Listen on port', 'number', 3000]
#   log:    ['l', 'Enable logging']
#   message:['m', 'Welcome message', 'string', 'Hello World']

# cli.main (args, options) ->
#   server = new Server
#     port: options.port
#     requestHandler: (req, res) ->
#       res.writeHead 200, {'Content-Type': 'text/html'}
#       res.end (options.message || 'Testing')

#   server.start()

Main = require './lib/main'

main = new Main()
main.processCommandLine()
main.processConfig()
main.startServer()
